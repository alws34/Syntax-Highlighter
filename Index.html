<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>Syntax Highlighter</title>
    <a href="/FormatedText.html"></a>
    <link type="text/css" rel="stylesheet" href="Styles/SyntaxHighlighter.css"></link>
    <!-- <link href="Styles/TestPages.css" rel="stylesheet" type="text/css"> -->

    <script src="jquery-3.5.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- core script -->
    <script class="javascript" src="Scripts/shCore.js"></script>

    <!-- painters -->
    <script class="javascript" src="Scripts/shBrushCSharp.js"></script>
    <script class="javascript" src="Scripts/shBrushPhp.js"></script>
    <script class="javascript" src="Scripts/shBrushJScript.js"></script>
    <script class="javascript" src="Scripts/shBrushJava.js"></script>
    <script class="javascript" src="Scripts/shBrushVb.js"></script>
    <script class="javascript" src="Scripts/shBrushSql.js"></script>
    <script class="javascript" src="Scripts/shBrushXml.js"></script>
    <script class="javascript" src="Scripts/shBrushDelphi.js"></script>
    <script class="javascript" src="Scripts/shBrushPython.js"></script>
    <script class="javascript" src="Scripts/shBrushRuby.js"></script>
    <script class="javascript" src="Scripts/shBrushCss.js"></script>
    <script class="javascript" src="Scripts/shBrushCpp.js"></script>

    <!-- methods -->
    <script>
        function highlighter() {
            let language = $('#languagesDDL').val()
            let code = $('#codetext').val();

            if (code != '' && language != '-1') {
                localStorage['text_to_highlight'] = code;
                localStorage['lang'] = language;
                //window.open('/FormatedText.html', '_blank');
                var newwin = openOnce('/FormatedText.html', 'MyWindowName');
            } else {
                if (code == '' && language == '-1')
                    alert("please fill out all fields")
                else if (code == '')
                    alert("please enter text to format")
                else if (language == '-1')
                    alert("please select code language to format")
            }
        }

        function openOnce(url, target) {
            // open a blank "target" window
            // or get the reference to the existing "target" window
            var winref = window.open('', target, '', true);

            // if the "target" window was just opened, change its url
            if (winref.location.href === 'about:blank') {
                winref.location.href = url;
            }

            return winref;
        }
    </script>
</head>

<body>
    <h1>Word Syntax Highlighter</h1>
    <div>
        <textarea id="codetext" name="codetextarea" rows="10" cols="100"></textarea>
    </div>

    <div>
        <select id="languagesDDL">
                <option value="-1">please select a language</option>
				<option value="c-sharp">C#</option>
                <option value="css">CSS</option>
                <option value="c">C++</option>
                <option value="delphi">Delphi</option>
                <option value="java">Java</option>
                <option value="js">JavaScript</option>
                <option value="php">PHP</option>
                <option value="python">Python</option>
                <option value="ruby">Ruby</option>
                <option value="sql">SQL</option>
                <option value="vb">Visual Basic</option>
                <option value="xml">XML / HTML</option>
		</select>
    </div>
    <div>
        <button id="higlightBTN" name="higlightBTN" onclick="highlighter()">Highlight</button>
    </div>
</body>

</html>